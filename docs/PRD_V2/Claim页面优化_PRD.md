# Claim页面优化_PRD

<div class="Section1">

## 1. 功能概述

该模块旨在为用户提供一个统一的入口，查看并提取在交易过程中产生的各类待结算收益（如资金费用、交易返佣等），同时支持查询历史领取记录，确保资金变动的透明度。

## 2. 页面结构与布局

页面采用抽屉式布局，层级如下：

- **顶部导航栏**：显示当前功能标题及待处理数量。

- **核心数据概览区**：展示当前可领取的总金额和历史已领取的总金额。

- **列表内容区**：包含两个二级标签页（Tab），分别为“待处理”和“历史记录”。

## 3. 功能模块详解

### 3.1 顶部与概览区

- **标题栏**：

  - 显示标题“Claim”。

  - 标题旁显示数字气泡，数值等于当前待领取的条目总数。

- **可领取总额卡片 (左侧)**：

  - **展示字段**：显示当前所有待结算收益的累加总额（例如 \$16.95）。

  - **操作按钮**：“Claim all”。

  - **交互逻辑**：

    - 当可领取余额 \> 0 时，按钮高亮可点击。点击后触发批量领取请求，成功后刷新列表和余额。

    - 当可领取余额 = 0 时，按钮置灰不可用。

- **历史已领取总额卡片 (右侧)**：

  - **展示字段**：显示用户历史上累计已成功领取的总金额（例如 \$30.37）。

  - **图标状态**：配有蓝色打钩图标，表示已入袋安为。

  - **交互逻辑**：纯展示，无点击交互。

### 3.2 待处理列表 (Pending Tab)

此标签页为默认选中状态，展示所有未提取的收益明细。

- **列表项结构**：

  - **资产/交易对图标及名称**：如 BTC/USD。

  - **收益类型说明**：如 Funding Fee（资金费率）、Price Impact（价格冲击补偿），后续若有其他收益类型也同步Add。

  - **金额**：显示该笔收益的具体数值，正数使用主题色显示（如 +\$0.48）。

  - **操作按钮**：“Claim”。

- **交互逻辑**：

  - 点击单行的“Claim”按钮，仅发起该笔收益的提取请求。

  - 领取过程中按钮显示Loading状态。

  - 领取成功后，该条目从“待处理”列表移除，并加入“历史记录”列表，同时更新顶部的总览数据。

### 3.3 历史记录列表 (History Tab)

用户点击切换至此标签页，查看过往的操作流水。

- **列表项结构**：

  - **资产/交易对图标及名称**：同上。

  - **状态描述**：如 Claimed Funding Fee、Claimed Trading Rebate。

  - **时间戳**：精确到秒（如 2026/02/13 16:49:54）。

  - **金额**：

    - 正收益：绿色显示（如 +\$8.91）。

    - 负收益或扣除项：红色显示（如 -\$0.01）。

  - **操作按钮**：“Details”。

- **交互逻辑**：

  - 列表按时间倒序排列，最近的操作在最上方。

  - 点击“Details”按钮，跳转至区块链浏览器详情页或弹窗显示该笔资金划转的详细哈希（TxID）及费率明细。

## 4. 异常与边界情况

- **空状态**：

  - 当“待处理”列表为空时，列表区域展示空状态的占位文本，顶部“Claim all”按钮置灰。

- **网络异常**：

  - 点击领取时若网络请求失败，应Toast提示“领取失败，请稍后重试”，且待领取的列表项不消失。

- **数据精度**：

  - 金额显示保留两位小数（根据UI显示），但后端计算需保留完整精度，前端仅做截断展示或四舍五入。

</div>
